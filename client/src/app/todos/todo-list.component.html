<h1>Todos</h1>

<div class="form-group">
    <label for="ownerInput">Owner</label>
    <input id="ownerInput" type="text" class="form-control" [typeahead]="possibleOwners" [(ngModel)]="todoOwner">
</div>
<div class="form-group">
    <label for="statusInput">Status</label>
    <select id="statusInput" type="text" class="custom-select" (input)="onStatusChange($event.target.value)">
        <option selected value="">All</option>
        <option value="complete">Complete</option>
        <option value="incomplete">Incomplete</option>
    </select>
</div>
<div class="form-group">
    <label for="searchInput"><span class="glyphicon glyphicon-search"></span>Search</label>
    <input id="searchInput" type="search" class="form-control" (input)="todoBody = $event.target.value">
</div>
<div class="form-group">
    <label for="CategoryInput">Category</label>
    <input id="CategoryInput" type="text" class="form-control" [typeahead]="possibleCategories" [(ngModel)]="todoCategory" placeholder="Category">
</div>

<ul class="list-group" *ngIf="todos; else todosError">
    <li id="users" *ngFor="let todo of this.filterTodos(todoOwner, todoBody, todoCategory)" class="list-group-item">
        <ul>
            <li>id: {{ todo._id }}</li>
            <li>owner: {{ todo.owner }}</li>
            <li>status: {{ todo.status }}</li>
            <li>body: {{ todo.body }}</li>
            <li>category: {{ todo.category }}</li>
        </ul>
    </li>
</ul>

<ng-template #todosError>
    <p>
        There was a problem loading the todos. Possibly the server is down or perhaps there are network issues.
    </p>
    <p>
        Please wait a bit and try again.
    </p>
</ng-template>
